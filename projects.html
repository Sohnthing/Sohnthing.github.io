<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Projects</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <!-- âœ… ìƒë‹¨ ë‚´ë¹„ê²Œì´ì…˜ -->
  <nav class="navbar">
    <a href="index.html">Home</a>
    <a href="projects.html">Projects</a>
  </nav>

  <h1>Projects</h1>

  <!-- âœ… í†µí•© ìŠ¤íƒ€ì¼ ì ìš©ìš© í´ë˜ìŠ¤ í¬í•¨ -->
  <div id="project-list" class="item-list">ë¡œë”© ì¤‘...</div>

  <script>
    // âœ… ì—¬ê¸°ì— í”„ë¡œì íŠ¸ md íŒŒì¼ëª… ìˆ˜ë™ ë“±ë¡
    const projects = [
      'my-app.md',
    ];

    const list = document.getElementById('project-list');
    list.innerHTML = '';

    projects.forEach(file => {
      fetch(`projects/${file}`)
        .then(res => res.text())
        .then(text => {
          // ë©”íƒ€ë°ì´í„° íŒŒì‹±
          const titleMatch = text.match(/title:\s*(.+)/);
          const dateMatch = text.match(/date:\s*(.+)/);
          const tagsMatch = text.match(/tags:\s*\[(.+?)\]/);

          const title = titleMatch ? titleMatch[1].trim() : file;
          const date = dateMatch ? dateMatch[1].trim() : '';
          const tags = tagsMatch ? tagsMatch[1].split(',').map(tag => tag.trim()) : [];

          // âœ… <div class="item"> ìƒì„±
          const item = document.createElement('div');
          item.classList.add('item');

          const a = document.createElement('a');
          a.href = `viewer.html?type=project&file=${file}`;
          a.textContent = title;

          const info = document.createElement('small');
          info.textContent = `ğŸ“… ${date} | ğŸ· ${tags.join(', ')}`;

          item.appendChild(a);
          item.appendChild(document.createElement('br'));
          item.appendChild(info);

          list.appendChild(item);
        })
        .catch(err => {
          console.error(`âŒ ${file} ì½ê¸° ì‹¤íŒ¨`, err);
        });
    });
  </script>

</body>
</html>
